<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Cassandra by locp</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Cassandra</h1>
        <h2>A Puppet module to install and manage Apache Cassandra.</h2>

        <section id="downloads">
          <a href="https://github.com/locp/cassandra/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/locp/cassandra/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/locp/cassandra" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="cassandra" class="anchor" href="#cassandra" aria-hidden="true"><span class="octicon octicon-link"></span></a>cassandra</h1>

<p><a href="https://forge.puppetlabs.com/locp/cassandra"><img src="http://img.shields.io/puppetforge/v/locp/cassandra.svg" alt="Puppet Forge"></a>
<a href="https://github.com/locp/cassandra"><img src="https://img.shields.io/github/tag/locp/cassandra.svg" alt="Github Tag"></a>
<a href="https://travis-ci.org/locp/cassandra"><img src="https://travis-ci.org/locp/cassandra.png?branch=master" alt="Build Status"></a>
<a href="https://gitter.im/locp/cassandra?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/locp/cassandra"></a></p>

<h4>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span class="octicon octicon-link"></span></a>Table of Contents</h4>

<ol>
<li><a href="#overview">Overview</a></li>
<li>
<a href="#setup">Setup - The basics of getting started with cassandra</a>

<ul>
<li><a href="#what-cassandra-affects">What cassandra affects</a></li>
<li><a href="#beginning-with-cassandra">Beginning with cassandra</a></li>
<li><a href="#upgrading">Upgrading</a></li>
</ul>
</li>
<li><a href="#usage">Usage - Configuration options and additional functionality</a></li>
<li>
<a href="#reference">Reference - An under-the-hood peek at what the module is doing and how</a>

<ul>
<li><a href="#class-cassandra">cassandra</a></li>
<li><a href="#class-cassandradatastax_agent">cassandra::datastax_agent</a></li>
<li><a href="#class-cassandrajava">cassandra::java</a></li>
<li><a href="#class-cassandraoptutils">cassandra::optutils</a></li>
</ul>
</li>
<li><a href="#limitations">Limitations - OS compatibility, etc.</a></li>
<li><a href="#contributers">Contributers</a></li>
</ol>

<h2>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h2>

<p>A Puppet module to install and manage Cassandra and DataStax Agent.</p>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup</h2>

<h3>
<a id="what-cassandra-affects" class="anchor" href="#what-cassandra-affects" aria-hidden="true"><span class="octicon octicon-link"></span></a>What cassandra affects</h3>

<ul>
<li>Installs the Cassandra package (default <strong>dsc21</strong>).</li>
<li>Configures settings in <em>${config_path}/cassandra.yaml</em>.</li>
<li>Optionally insures that the Cassandra service is enabled and running.</li>
<li>Optionally installs the Cassandra support tools (e.g. cassandra21-tools).</li>
<li>Optionally configures a Yum repository to install the Cassandra packages
from (on Red Hat).</li>
<li>Optionally configures an Apt repository to install the Cassandra packages
from (on Ubuntu).</li>
<li>Optionally installs a JRE/JDK package (e.g. java-1.7.0-openjdk).</li>
<li>Optionally installs the DataStax agent.</li>
</ul>

<h3>
<a id="beginning-with-cassandra" class="anchor" href="#beginning-with-cassandra" aria-hidden="true"><span class="octicon octicon-link"></span></a>Beginning with cassandra</h3>

<p>This most basic example would attempt to install the default Cassandra package
(assuming there is an available repository).  See the <em>Usage</em>(#usage) section
for more realistic scenarios.</p>

<div class="highlight highlight-puppet"><pre>node <span class="pl-s"><span class="pl-pds">'</span>example<span class="pl-pds">'</span></span> {
  <span class="pl-k">include</span> '::cassandra'
}</pre></div>

<p>To install the DataStax agent, include the specific class.</p>

<div class="highlight highlight-puppet"><pre>node <span class="pl-s"><span class="pl-pds">'</span>example<span class="pl-pds">'</span></span> {
  <span class="pl-k">include</span> '::cassandra'
  <span class="pl-k">include</span> '::cassandra::datastax_agent'
}</pre></div>

<p>To install with a reasonably sensible Java environment include the java
subclass.</p>

<div class="highlight highlight-puppet"><pre>node <span class="pl-s"><span class="pl-pds">'</span>example<span class="pl-pds">'</span></span> {
  <span class="pl-k">include</span> '::cassandra'
  <span class="pl-k">include</span> '::cassandra::java'
}</pre></div>

<p>To install Cassandra with the optional utilities.</p>

<div class="highlight highlight-puppet"><pre>node <span class="pl-s"><span class="pl-pds">'</span>example<span class="pl-pds">'</span></span> {
  <span class="pl-k">include</span> '::cassandra'
  <span class="pl-k">include</span> '::cassandra::optutils'
}</pre></div>

<p>To install the main cassandra package (which is mandatory) and all the
optional packages, do the following:</p>

<div class="highlight highlight-puppet"><pre>node <span class="pl-s"><span class="pl-pds">'</span>example<span class="pl-pds">'</span></span> {
  <span class="pl-k">include</span> '::cassandra'
  <span class="pl-k">include</span> '::cassandra::datastax_agent'
  <span class="pl-k">include</span> '::cassandra::java'
  <span class="pl-k">include</span> '::cassandra::optutils'
}</pre></div>

<p>By saying the cassandra class/package is mandatory, what is meant is that all
the sub classes have a dependency on the main class.  So for example one
could not specify the cassandra::java class for a node with the cassandra
class also being included.</p>

<h3>
<a id="upgrading" class="anchor" href="#upgrading" aria-hidden="true"><span class="octicon octicon-link"></span></a>Upgrading</h3>

<p>The following changes to the API have taken place.</p>

<h4>
<a id="changes-in-040" class="anchor" href="#changes-in-040" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changes in 0.4.0</h4>

<p>There is now a cassandra::datastax_agent class, therefore:</p>

<ul>
<li>cassandra::datastax_agent_package_ensure has now been replaced with
cassandra::datastax_agent::package_ensure.</li>
<li>cassandra::datastax_agent_service_enable has now been replaced with
cassandra::datastax_agent::service_enable.</li>
<li>cassandra::datastax_agent_service_ensure has now been replaced with
cassandra::datastax_agent::service_ensure.</li>
<li>cassandra::datastax_agent_package_name has now been replaced with
cassandra::datastax_agent::package_name.</li>
<li>cassandra::datastax_agent_service_name has now been replaced with
cassandra::datastax_agent::service_name.</li>
</ul>

<p>Likewise now there is a new class for handling the installation of Java:</p>

<ul>
<li>cassandra::java_package_ensure has now been replaced with
cassandra::java::ensure.</li>
<li>cassandra::java_package_name has now been replaced with
cassandra::java::package_name.</li>
</ul>

<p>Also there is now a class for installing the optional utilities:</p>

<ul>
<li>cassandra::cassandra_opt_package_ensure has now been replaced with
cassandra::optutils:ensure.</li>
<li>cassandra::cassandra_opt_package_name has now been replaced with
cassandra::optutils:package_name.</li>
</ul>

<h4>
<a id="changes-in-030" class="anchor" href="#changes-in-030" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changes in 0.3.0</h4>

<ul>
<li><p>cassandra_opt_package_ensure changed from 'present' to undef.</p></li>
<li><p>The manage_service option has been replaced with service_enable and
service_ensure.</p></li>
</ul>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a id="create-a-small-cluster" class="anchor" href="#create-a-small-cluster" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create a Small Cluster</h3>

<p>To install Cassandra in a two node cluster called 'Foobar Cluster' where
node1 (192.168.42.1) is the seed and node2 (192.168.42.2) is also to be a
member, do something similar to this:</p>

<div class="highlight highlight-puppet"><pre><span class="pl-k">include</span> cassandra::java
<span class="pl-k">include</span> cassandra::optutils

node <span class="pl-s"><span class="pl-pds">'</span>node1<span class="pl-pds">'</span></span> {
  <span class="pl-k">class</span> { <span class="pl-en">'cassandra'</span>:
    <span class="pl-c1">cluster_name</span>    =&gt; <span class="pl-s"><span class="pl-pds">'</span>Foobar Cluster<span class="pl-pds">'</span></span>,
    <span class="pl-c1">listen_address</span>  =&gt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${::ipaddress}</span><span class="pl-pds">"</span></span>,
    <span class="pl-c1">seeds</span>           =&gt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${::ipaddress}</span><span class="pl-pds">"</span></span>,
    <span class="pl-c1">manage_dsc_repo</span> =&gt; true
  }
}

node <span class="pl-s"><span class="pl-pds">'</span>node2<span class="pl-pds">'</span></span> {
  <span class="pl-k">class</span> { <span class="pl-en">'cassandra'</span>:
    <span class="pl-c1">cluster_name</span>    =&gt; <span class="pl-s"><span class="pl-pds">'</span>Foobar Cluster<span class="pl-pds">'</span></span>,
    <span class="pl-c1">listen_address</span>  =&gt; <span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${::ipaddress}</span><span class="pl-pds">"</span></span>,
    <span class="pl-c1">seeds</span>           =&gt; <span class="pl-s"><span class="pl-pds">'</span>192.168.42.1<span class="pl-pds">'</span></span>,
    <span class="pl-c1">manage_dsc_repo</span> =&gt; true
  }
}</pre></div>

<p>This would also ensure that the JDK is installed and the optional Cassandra
tools.</p>

<h2>
<a id="reference" class="anchor" href="#reference" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reference</h2>

<h3>
<a id="public-classes" class="anchor" href="#public-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Public Classes</h3>

<ul>
<li><strong>cassandra</strong></li>
<li><strong>cassandra::datastax_agent</strong></li>
<li><strong>cassandra::java</strong></li>
<li><strong>cassandra::optutils</strong></li>
</ul>

<h3>
<a id="class-cassandra" class="anchor" href="#class-cassandra" aria-hidden="true"><span class="octicon octicon-link"></span></a>Class: cassandra</h3>

<p>A class for installing the Cassandra package and manipulate settings in the
configuration file.</p>

<h4>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="authenticator" class="anchor" href="#authenticator" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>authenticator</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>AllowAllAuthenticator</strong>).</p>

<h5>
<a id="authorizer" class="anchor" href="#authorizer" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>authorizer</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default: <strong>AllowAllAuthorizer</strong>).</p>

<h5>
<a id="auto_snapshot" class="anchor" href="#auto_snapshot" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>auto_snapshot</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>true</strong>).</p>

<h5>
<a id="cassandra_package_ensure" class="anchor" href="#cassandra_package_ensure" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>cassandra_package_ensure</code>
</h5>

<p>The status of the package specified in <strong>cassandra_package_name</strong>.  Can be
<em>present</em>, <em>latest</em> or a specific version number (default <strong>present</strong>).</p>

<h5>
<a id="cassandra_package_name" class="anchor" href="#cassandra_package_name" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>cassandra_package_name</code>
</h5>

<p>The name of the Cassandra package.  Must be available from a repository
(default <strong>dsc21</strong>).</p>

<h5>
<a id="cassandra_yaml_tmpl" class="anchor" href="#cassandra_yaml_tmpl" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>cassandra_yaml_tmpl</code>
</h5>

<p>The path to the Puppet template for the Cassandra configuration file.  This
allows the user to supply their own customized template.  A Cassandra 1.X
compatible template called cassandra1.yaml.erb has been provided by <a href="https://github.com/Spredzy" class="user-mention">@Spredzy</a>
(default <strong>cassandra/cassandra.yaml.erb</strong>).</p>

<h5>
<a id="client_encryption_enabled" class="anchor" href="#client_encryption_enabled" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>client_encryption_enabled</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>false</strong>).</p>

<h5>
<a id="client_encryption_keystore" class="anchor" href="#client_encryption_keystore" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>client_encryption_keystore</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>conf/.keystore</strong>).</p>

<h5>
<a id="client_encryption_keystore_password" class="anchor" href="#client_encryption_keystore_password" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>client_encryption_keystore_password</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>cassandra</strong>).</p>

<h5>
<a id="cluster_name" class="anchor" href="#cluster_name" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>cluster_name</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>Test Cluster</strong>).</p>

<h5>
<a id="commitlog_directory" class="anchor" href="#commitlog_directory" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>commitlog_directory</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>/var/lib/cassandra/commitlog</strong>).</p>

<h5>
<a id="concurrent_counter_writes" class="anchor" href="#concurrent_counter_writes" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>concurrent_counter_writes</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>32</strong>).</p>

<h5>
<a id="concurrent_reads" class="anchor" href="#concurrent_reads" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>concurrent_reads</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>32</strong>).</p>

<h5>
<a id="concurrent_writes" class="anchor" href="#concurrent_writes" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>concurrent_writes</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>32</strong>).</p>

<h5>
<a id="config_path" class="anchor" href="#config_path" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>config_path</code>
</h5>

<p>The path to the cassandra configuration file.  If this is undef, it will be
changed to <strong>/etc/cassandra/default.conf</strong> on the Red Hat family of operating
systems or <strong>/etc/cassandra</strong> on Ubuntu.  Otherwise the user can specify the
path name
(default <strong>undef</strong>).</p>

<h5>
<a id="data_file_directories" class="anchor" href="#data_file_directories" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>data_file_directories</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>['/var/lib/cassandra/data']</strong>).</p>

<h5>
<a id="disk_failure_policy" class="anchor" href="#disk_failure_policy" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>disk_failure_policy</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default: <strong>stop</strong>).</p>

<h5>
<a id="endpoint_snitch" class="anchor" href="#endpoint_snitch" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>endpoint_snitch</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default: <strong>SimpleSnitch</strong>).</p>

<h5>
<a id="hinted_handoff_enabled" class="anchor" href="#hinted_handoff_enabled" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>hinted_handoff_enabled</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(defaults to <strong>'true'</strong>).</p>

<h5>
<a id="incremental_backups" class="anchor" href="#incremental_backups" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>incremental_backups</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>false</strong>).</p>

<h5>
<a id="internode_compression" class="anchor" href="#internode_compression" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>internode_compression</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>all</strong>).</p>

<h5>
<a id="listen_address" class="anchor" href="#listen_address" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>listen_address</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>localhost</strong>).</p>

<h5>
<a id="manage_dsc_repo" class="anchor" href="#manage_dsc_repo" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>manage_dsc_repo</code>
</h5>

<p>If set to true then a repository will be setup so that packages can be
downloaded from the DataStax community edition (default <strong>false</strong>).</p>

<h5>
<a id="native_transport_port" class="anchor" href="#native_transport_port" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>native_transport_port</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>9042</strong>).</p>

<h5>
<a id="num_tokens" class="anchor" href="#num_tokens" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>num_tokens</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>256</strong>).</p>

<h5>
<a id="partitioner" class="anchor" href="#partitioner" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>partitioner</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>org.apache.cassandra.dht.Murmur3Partitioner</strong>)</p>

<h5>
<a id="rpc_address" class="anchor" href="#rpc_address" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>rpc_address</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>localhost</strong>).</p>

<h5>
<a id="rpc_port" class="anchor" href="#rpc_port" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>rpc_port</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>9160</strong>).</p>

<h5>
<a id="rpc_server_type" class="anchor" href="#rpc_server_type" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>rpc_server_type</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>sync</strong>).</p>

<h5>
<a id="saved_caches_directory" class="anchor" href="#saved_caches_directory" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>saved_caches_directory</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>/var/lib/cassandra/saved_caches</strong>).</p>

<h5>
<a id="seeds" class="anchor" href="#seeds" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>seeds</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>127.0.0.1</strong>).</p>

<h5>
<a id="server_encryption_internode" class="anchor" href="#server_encryption_internode" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>server_encryption_internode</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>none</strong>).</p>

<h5>
<a id="server_encryption_keystore" class="anchor" href="#server_encryption_keystore" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>server_encryption_keystore</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>conf/.keystore</strong>).</p>

<h5>
<a id="server_encryption_keystore_password" class="anchor" href="#server_encryption_keystore_password" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>server_encryption_keystore_password</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>cassandra</strong>).</p>

<h5>
<a id="server_encryption_truststore" class="anchor" href="#server_encryption_truststore" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>server_encryption_truststore</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>conf/.truststore</strong>).</p>

<h5>
<a id="server_encryption_truststore_password" class="anchor" href="#server_encryption_truststore_password" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>server_encryption_truststore_password</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>cassandra</strong>).</p>

<h5>
<a id="service_enable" class="anchor" href="#service_enable" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>service_enable</code>
</h5>

<p>Enable the Cassandra service to start at boot time.  Valid values are true
or false
(default: <strong>true</strong>)</p>

<h5>
<a id="service_ensure" class="anchor" href="#service_ensure" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>service_ensure</code>
</h5>

<p>Ensure the Cassandra service is running.  Valid values are running or stopped
(default: <strong>running</strong>)</p>

<h5>
<a id="service_name" class="anchor" href="#service_name" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>service_name</code>
</h5>

<p>The name of the service that runs the Cassandra software (default
<strong>cassandra</strong>).</p>

<h5>
<a id="snapshot_before_compaction" class="anchor" href="#snapshot_before_compaction" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>snapshot_before_compaction</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>false</strong>).</p>

<h5>
<a id="start_native_transport" class="anchor" href="#start_native_transport" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>start_native_transport</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>true</strong>).</p>

<h5>
<a id="start_rpc" class="anchor" href="#start_rpc" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>start_rpc</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>true</strong>).</p>

<h5>
<a id="storage_port" class="anchor" href="#storage_port" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>storage_port</code>
</h5>

<p>This is passed to the
<a href="http://docs.datastax.com/en/cassandra/2.1/cassandra/configuration/configCassandra_yaml_r.html">cassandra.yaml</a> file
(default <strong>7000</strong>).</p>

<h3>
<a id="class-cassandradatastax_agent" class="anchor" href="#class-cassandradatastax_agent" aria-hidden="true"><span class="octicon octicon-link"></span></a>Class: cassandra::datastax_agent</h3>

<p>A class for installing the DataStax agent and to point it at an Opscenter
instance.</p>

<h4>
<a id="parameters-1" class="anchor" href="#parameters-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="package_ensure" class="anchor" href="#package_ensure" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>package_ensure</code>
</h5>

<p>Is passed to the package reference.  Valid values are <strong>present</strong> or a version
number
(default <strong>present</strong>).</p>

<h5>
<a id="package_name" class="anchor" href="#package_name" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>package_name</code>
</h5>

<p>Is passed to the package reference (default <strong>datastax-agent</strong>).</p>

<h5>
<a id="service_ensure-1" class="anchor" href="#service_ensure-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>service_ensure</code>
</h5>

<p>Is passed to the service reference (default <strong>running</strong>).</p>

<h5>
<a id="service_enable-1" class="anchor" href="#service_enable-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>service_enable</code>
</h5>

<p>Is passed to the service reference (default <strong>true</strong>).</p>

<h5>
<a id="service_name-1" class="anchor" href="#service_name-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>service_name</code>
</h5>

<p>Is passed to the service reference (default <strong>datastax-agent</strong>).</p>

<h5>
<a id="stomp_interface" class="anchor" href="#stomp_interface" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>stomp_interface</code>
</h5>

<p>If the value is changed from the default of <em>undef</em> then this is what is
set as the stomp_interface setting in
<strong>/var/lib/datastax-agent/conf/address.yaml</strong>
which connects the agent to an Opscenter instance
(default <strong>undef</strong>).</p>

<h3>
<a id="class-cassandrajava" class="anchor" href="#class-cassandrajava" aria-hidden="true"><span class="octicon octicon-link"></span></a>Class: cassandra::java</h3>

<p>A class to install a reasonably sensible Java package.</p>

<h4>
<a id="parameters-2" class="anchor" href="#parameters-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="ensure" class="anchor" href="#ensure" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>ensure</code>
</h5>

<p>Is passed to the package reference.  Valid values are <strong>present</strong> or a version
number
(default <strong>present</strong>).</p>

<h5>
<a id="package_name-1" class="anchor" href="#package_name-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>package_name</code>
</h5>

<p>If the default value of <em>undef</em> is left as it is, then a package called
java-1.8.0-openjdk-headless or openjdk-7-jre-headless will be installed
on a Red Hat family or Ubuntu system respectively.  Alternatively, one
can specify a package that is available in a package repository to the
node
(default <strong>undef</strong>).</p>

<h3>
<a id="class-cassandraoptutils" class="anchor" href="#class-cassandraoptutils" aria-hidden="true"><span class="octicon octicon-link"></span></a>Class: cassandra::optutils</h3>

<p>A class to install the optional Cassandra tools package.</p>

<h4>
<a id="parameters-3" class="anchor" href="#parameters-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h4>

<h5>
<a id="ensure-1" class="anchor" href="#ensure-1" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>ensure</code>
</h5>

<p>Is passed to the package reference.  Valid values are <strong>present</strong> or a version
number
(default <strong>present</strong>).</p>

<h5>
<a id="package_name-2" class="anchor" href="#package_name-2" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>package_name</code>
</h5>

<p>If the default value of <em>undef</em> is left as it is, then a package called
cassandra21-tools or cassandra-tools will be installed
on a Red Hat family or Ubuntu system respectively.  Alternatively, one
can specify a package that is available in a package repository to the
node
(default <strong>undef</strong>).</p>

<h2>
<a id="limitations" class="anchor" href="#limitations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Limitations</h2>

<p>Tested on the Red Hat family versions 6 and 7, Ubuntu 12.04 and 14.04, Puppet
(CE) 3.7.5 and DSC 2.1.</p>

<h2>
<a id="contributers" class="anchor" href="#contributers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributers</h2>

<p>Contributions will be gratefully accepted.  Please go to the project page,
fork the project, make your changes locally and then raise a pull request.
Details on how to do this are available at
<a href="https://guides.github.com/activities/contributing-to-open-source">https://guides.github.com/activities/contributing-to-open-source</a>.</p>

<h3>
<a id="additional-contributers" class="anchor" href="#additional-contributers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Additional Contributers</h3>

<p>Yanis Guenane (GitHub <a href="https://github.com/Spredzy">@spredzy</a>) provided the
Cassandra 1.x compatible template
(see <a href="https://github.com/locp/cassandra/pull/11">#11</a>).</p>
      </section>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-6773548-6");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
